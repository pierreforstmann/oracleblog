<p>Can you download Oracle Database 11.2.0.4 from OTN ? No, you cannot download it <u>directly</u> (except for openVMS).<br />
<br />
But you can download the <a href="http://www.oracle.com/technetwork/community/developer-vm/vts-hol-2415742.html">OTN virtual machine where Oracle Database 11.2.0.4 is installed</a> and clone the 11.2.0.4 Oracle home to some RHEL machine.<br />
</p>
<h3>What is a Red Hat subscription ?</h3>
<p>A <a href="https://www.redhat.com/en/about/subscription">Red Hat subscription</a> is a support contract: you must also have a valid Red Hat subscription to be able to connect to Red Hat yum software repositories to download new or updated software. This is major difference with Oracle Linux: you can use Oracle public yum repositories for free but with Red Hat you need a subscription. </p>
<p>Until March 2016 you could download RHEL for free but only with a single month subscription<br />
(I managed to download it, to install it but I failed to connect it to Red Hat yum repositories).<br />
<br />
Now things have changed started <a href="http://www.zdnet.com/article/red-hat-offers-free-red-hat-enterprise-linux-to-developers/" />1st of April 2016</a>: you can download RHEL 7.2 with a 1-year free subscription for development purpose on <a href="https://developers.redhat.com/" />developers.redhat.com</a> (and this is NOT some April Fool's joke !).</p>
<h3>Disclaimer</h3>
<p>Strictly speaking this installation is not supported by Oracle Corp. because the preinstallation RPM is not available for RHEL and the way I modify it is also not supported. Remember also that Oracle Corp. does not support VirtualBox like <a href="http://www.oracle.com/us/technologies/virtualization/oraclevm/overview/index.html">Oracle VM</a> to run Oracle Database.<br />
</p>
<h3>About licensing</h3>
<p>You can use this Oracle Database software <i>only for the purpose of developing, testing, prototyping, and demonstrating Your application and only as long as Your application has not been used for any data processing, business, commercial, or production purposes, and not for any other purpose</i> according to <a href="http://www.oracle.com/technetwork/licenses/standard-license-152015.html">Oracle Technology Network License Agreement </a>.</p>
<p>Red Hat Developer Program Terms &amp; Conditions states that <i>By participating in the Program and accepting these terms, you represent that you will be using the Red Hat Subscriptions(s) for development purposes only</i>. Red Hat has a bilingual 62 page <a href="https://www.redhat.com/licenses/emea_enterprise_agreement_appendices_one_and_two_webversion_france_20140620.pdf">Red Hat Enterprise Agreement</a> that you must agree with but that I find too complex.</p>
<h3>Overview</h3>
<p>Here are the main steps I have used to install Oracle Database 11.2.0.4 on RHEL 7.2:</p>
<li>
download and install Hands-On Lab “Upgrade/Migrate/Consolidate to Oracle 12c” (HOL) virtual machine using <a href="https://pierreforstmanndotcom.wordpress.com/2016/03/15/installing-and-using-oracle-hands-on-lab-upgrademigrateconsolidate-to-oracle-12c-hol-virtual-machine/" />my blog article</a>.
</li>
<li>
register to <b>https://developers.redhat.com</b> and download RHEL 7.2 ISO file (make sure to remember your registration account and password).
</li>
<li>
install RHEL 7.2 with Virtual Box.
</li>
<li>
modify the Oracle preinstallation RPM to make it work on RHEL 7.2 (this is similar to <a href="https://pierreforstmanndotcom.wordpress.com/2016/01/07/how-i-simplified-oracle-database-12-1-0-2-installation-on-centos-7-2-with-oracle-preinstallation-rpm/" />what I did for CentOS 7.2</a>)
</li>
<li>
install the modified Oracle preinstallation RPM.
</li>
<li>
clone Oracle 11.2.0.4 Database Oracle Home from HOL virtual machine to RHEL virtual machine (this is similar to <a href="https://pierreforstmanndotcom.wordpress.com/2016/03/17/cloning-oracle-database-home-12-1-0-2-on-new-oracle-linux-machine/" />what I did for Oracle Database 12.1.0.2 on Oracle Linux 7.2</a>).
</li>
<li>
et voilà !
</li>
<p>
In this blog post I document RHEL installation, preinstallation RPM build plus installation and Oracle Home cloning.</p>
<h3>RHEL 7.2 installation</h3>
<p>First I have created a VirtualBox 5.0.14 virtual machine (VM).</p>
<p>I have created a 40 GB virtual disk:</p>
<pre>
&gt; vboxmanage createhd --filename k:\vm\rh7etsf0.sata.0.vdi --size=40960 -format=VDI --variant=fixe
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
Medium created. UUID: b4cbccdc-e803-4133-a4dc-e213345b746b
</pre>
<p>I have created the VM:</p>
<pre>
&gt; vboxmanage createvm --name rh7etsf0 --basefolder k:\vm --register
Virtual machine 'rh7etsf0' is created and registered.
UUID: 04fa196a-e1f7-4d17-ba86-23a87342d83c
Settings file: 'k:\vm\rh7etsf0\rh7etsf0.vbox'
</pre>
<p>I have modified VM configuration to create 2 network cards (one for NAT and the other one for public use):</p>
<pre>
&gt; vboxmanage modifyvm rh7etsf0 --ostype Linux --memory=2048 --nic1 nat --nic2 hostonly
&gt; vboxmanage modifyvm rh7etsf0 --nictype1 82540EM
&gt; vboxmanage modifyvm rh7etsf0 --nictype2 82540EM
&gt; vboxmanage modifyvm rh7etsf0 --hostonlyadapter2 "VirtualBox Host-Only Ethernet Adapter"
&gt; vboxmanage modifyvm rh7etsf0 --ostype "RedHat_64"
</pre>
<p>I have attached an IDE controller:</p>
<pre>
&gt; vboxmanage storagectl rh7etsf0 --add ide --name IDE --controller PIIX4
&gt; vboxmanage modifyvm rh7etsf0 --vram 12
</pre>
<p>I have created a SATA controller and attached the virtual disk:</p>
<pre>
&gt; vboxmanage storagectl rh7etsf0 --add sata --name SATA --portcount 4
&gt; vboxmanage storageattach rh7etsf0 --storagectl SATA --port 0 --type hdd --medium k:\vm\rh7etsf0.sata.0.vdi
</pre>
<p>I have attached the RHEL 7.2 ISO file (from developers.redhat.com) to IDE controller :</p>
<pre>
&gt; vboxmanage storageattach rh7etsf0 --storagectl IDE --device 0  --port 0 --type dvddrive --medium j:\rh_media\rhel-server-7.2-x86_64-dvd.iso
</pre>
<p>I have started the VM:</p>
<pre>
&gt; vboxmanage startvm rh7etsf0
Waiting for VM "rh7etsf0" to power on...
VM "rh7etsf0" has been successfully started.
</pre>
<p>When installing RHEL 7.2 I have chosen in following order:<br />
<br />
1. English as installation process language<br />
<br />
2. Paris, France as time zone<br />
<br />
3. French as keyboard layout<br />
<br />
4. Automatic partitioning as installation destination<br />
<br />
5. rh7efsf0.localdomain as network and hostname<br />
<br />
And I have also set root password.<br />
<br />
Note that I have chosen a minimal RHEL installation.</p>
<p>After first reboot, I have connected as root to console and I have added hostname and its IP address to <b>/etc/hosts</b>:</p>
<pre>
192.168.56.27 rh7etsf0
</pre>
<p>I have also configured 2nd network interface:</p>
<pre>
# nmcli connection add type ethernet con-name enp0s8 ifname enp0s8 ip4 192.168.56.27/24
</pre>
<p>With a Putty connection as root I have configured 1st network interface:</p>
<pre>
# nmcli connection add type ethernet con-name enp0s3 ifname enp0s3 ip4 10.0.2.15/8 gw4 10.0.2.2
</pre>
<p>I have added my Internet box to <b>/etc/resolv.conf</b>:</p>
<pre>
# cat /etc/resolv.conf
# Generated by NetworkManager
search localdomain
nameserver 192.168.1.1
</pre>
<p>I have tested network connectivity with redhat.com:</p>
<pre>
# ping www.redhat.com
PING e3396.dscx.akamaiedge.net (23.206.26.226) 56(84) bytes of data.
64 bytes from a23-206-26-226.deploy.static.akamaitechnologies.com (23.206.26.226): icmp_seq=1 ttl=49 time=46.4 ms
64 bytes from a23-206-26-226.deploy.static.akamaitechnologies.com (23.206.26.226): icmp_seq=2 ttl=49 time=45.1 ms
64 bytes from a23-206-26-226.deploy.static.akamaitechnologies.com (23.206.26.226): icmp_seq=3 ttl=49 time=46.2 ms
^C
--- e3396.dscx.akamaiedge.net ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2003ms
</pre>
<p>I have configured yum to work with Red Hat repositories.<br />
<br />
Currently no repositories are available:</p>
<pre>
# yum repolist
Loaded plugins: product-id, search-disabled-repos, subscription-manager
This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.
repolist: 0
</pre>
<p>I have registered my VM using the email address and the related password I have used for <b>developers.redhat.com</b>:</p>
<pre>
# subscription-manager register
Registering to: subscription.rhn.redhat.com:443/subscription
Username: &amp;ltmyemailaddress&amp;gt
Password: &amp;ltmypassword&amp;gt
The system has been registered with ID: eee85192-0874-4353-9521-f4e90f9d403b
# subscription-manager attach


Installed Product Current Status:
Product Name: Red Hat Enterprise Linux Server
Status:       Subscribed

# subscription-manager list

+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:   Red Hat Enterprise Linux Server
Product ID:     69
Version:        7.2
Arch:           x86_64
Status:         Subscribed
Status Details:
Starts:         04/01/2016
Ends:           04/01/2017
</pre>
<p>Note that the subscription is valid for 1 year starting from the day you register to developers.redhat.com.</p>
<p>I have checked the full list of Red Hat repositories:</p>
<pre>
# yum repolist
Loaded plugins: product-id, search-disabled-repos, subscription-manager
rhel-7-server-eus-rpms                                                                                                | 3.2 kB  00:00:00
rhel-7-server-rpms                                                                                                    | 3.7 kB  00:00:00
rhel-7-server-rt-beta-rpms                                                                                            | 3.8 kB  00:00:00
rhel-7-server-rt-rpms                                                                                                 | 4.0 kB  00:00:00
rhel-ha-for-rhel-7-server-eus-rpms                                                                                    | 3.1 kB  00:00:00
rhel-ha-for-rhel-7-server-rpms                                                                                        | 3.7 kB  00:00:00
rhel-rs-for-rhel-7-server-eus-rpms                                                                                    | 3.1 kB  00:00:00
rhel-rs-for-rhel-7-server-rpms                                                                                        | 3.7 kB  00:00:00
(1/12): rhel-7-server-rt-beta-rpms/x86_64/updateinfo                                                                  |  238 B  00:00:01
(2/12): rhel-7-server-rt-beta-rpms/x86_64/group                                                                       |  130 B  00:00:01
(3/12): rhel-7-server-rt-rpms/7Server/x86_64/updateinfo                                                               |  25 kB  00:00:00
(4/12): rhel-7-server-rt-beta-rpms/x86_64/primary_db                                                                  |  13 kB  00:00:00
(5/12): rhel-7-server-rt-rpms/7Server/x86_64/group                                                                    |  895 B  00:00:01
(6/12): rhel-7-server-rt-rpms/7Server/x86_64/primary_db                                                               |  46 kB  00:00:00
(7/12): rhel-ha-for-rhel-7-server-eus-rpms/7Server/x86_64/primary_db                                                  | 129 kB  00:00:01
(8/12): rhel-rs-for-rhel-7-server-eus-rpms/7Server/x86_64/primary_db                                                  | 151 kB  00:00:01
(9/12): rhel-ha-for-rhel-7-server-rpms/7Server/x86_64/primary_db                                                      | 129 kB  00:00:01
(10/12): rhel-rs-for-rhel-7-server-rpms/7Server/x86_64/primary_db                                                     | 151 kB  00:00:01
(11/12): rhel-7-server-eus-rpms/7Server/x86_64/primary_db                                                             |  20 MB  00:00:26
(12/12): rhel-7-server-rpms/7Server/x86_64/primary_db                                                                 |  20 MB  00:00:27
(1/9): rhel-ha-for-rhel-7-server-eus-rpms/7Server/x86_64/updateinfo                                                   | 5.7 kB  00:00:00
(2/9): rhel-7-server-rpms/7Server/x86_64/group_gz                                                                     | 134 kB  00:00:01
(3/9): rhel-ha-for-rhel-7-server-rpms/7Server/x86_64/group_gz                                                         | 3.4 kB  00:00:01
(4/9): rhel-7-server-eus-rpms/7Server/x86_64/updateinfo                                                               | 108 kB  00:00:01
(5/9): rhel-ha-for-rhel-7-server-rpms/7Server/x86_64/updateinfo                                                       |  37 kB  00:00:00
(6/9): rhel-rs-for-rhel-7-server-eus-rpms/7Server/x86_64/updateinfo                                                   | 8.4 kB  00:00:00
(7/9): rhel-7-server-rpms/7Server/x86_64/updateinfo                                                                   | 1.1 MB  00:00:02
(8/9): rhel-rs-for-rhel-7-server-rpms/7Server/x86_64/updateinfo                                                       |  49 kB  00:00:00
(9/9): rhel-rs-for-rhel-7-server-rpms/7Server/x86_64/group_gz                                                         | 4.9 kB  00:00:00
repo id                                           repo name                                                                            status
rhel-7-server-eus-rpms/7Server/x86_64             Red Hat Enterprise Linux 7 Server - Extended Update Support (RPMs)                   10,572
rhel-7-server-rpms/7Server/x86_64                 Red Hat Enterprise Linux 7 Server (RPMs)                                             10,572
rhel-7-server-rt-beta-rpms/x86_64                 Red Hat Enterprise Linux for Real Time Beta (RHEL 7 Server) (RPMs)                       15
rhel-7-server-rt-rpms/7Server/x86_64              Red Hat Enterprise Linux for Real Time (RHEL 7 Server) (RPMs)                            96
rhel-ha-for-rhel-7-server-eus-rpms/7Server/x86_64 Red Hat Enterprise Linux High Availability (for RHEL 7 Server) - Extended Update Sup    204
rhel-ha-for-rhel-7-server-rpms/7Server/x86_64     Red Hat Enterprise Linux High Availability (for RHEL 7 Server) (RPMs)                   204
rhel-rs-for-rhel-7-server-eus-rpms/7Server/x86_64 Red Hat Enterprise Linux Resilient Storage (for RHEL 7 Server) - Extended Update Sup    241
rhel-rs-for-rhel-7-server-rpms/7Server/x86_64     Red Hat Enterprise Linux Resilient Storage (for RHEL 7 Server) (RPMs)                   241
repolist: 22,145
</pre>
<h3>Build and install the Oracle Database preinstallation RPM for RHEL 7.2</h3>
<p>It is not possible to download from Red Hat the preinstallation RPM:</p>
<pre>
# yum info *oracle*
Loaded plugins: product-id, search-disabled-repos, subscription-manager
Available Packages
Name        : kmod-oracleasm
Arch        : x86_64
Version     : 2.0.8
Release     : 15.el7
Size        : 35 k
Repo        : rhel-7-server-eus-rpms/7Server/x86_64
Summary     : oracleasm kernel module(s)
URL         : http://www.kernel.org/
License     : GPLv2
Description : This package provides the oracleasm kernel modules built for
            : the Linux kernel 3.10.0-326.el7.x86_64 for the x86_64
            : family of processors.
</pre>
<p>To avoid installing the original Oracle preinstallation RPM that would turn my RHEL VM into an Oracle Linux VM, I have chosen to modify this RPM.<br />
<br />
First I have installed wget:</p>
<pre>
# yum -y install wget
</pre>
<p>I have create the rpm group and rpm user:</p>
<pre>
# groupadd rpm
# useradd -g rpm rpm
</pre>
<p>I have installed RPM tools to be able to rebuild the RPM:</p>
<pre>
# yum -y install rpm-build rpmdevtools
</pre>
<p>With rpm user I have downloaded the Oracle preinstallation source RPM:</p>
<pre>
$ wget http://public-yum.oracle.com/repo/OracleLinux/OL7/latest/x86_64/getPackageSource/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.src.rpm
</pre>
<p>I have extracted the source RPM and just removed the UEK dependency:</p>
<pre>
$ rpm -ivh oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.src.rpm
warning: oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.src.rpm: Header V3 RSA/SHA256 Signature, key ID ec551f03: NOKEY
Updating / installing...
   1:oracle-rdbms-server-11gR2-preinst################################# [100%]
$ cd rpmbuild/SPECS
$ cp oracle-rdbms-server-11gR2-preinstall.spec oracle-rdbms-server-11gR2-preinstall.spec.orig
$ vi oracle-rdbms-server-11gR2-preinstall.spec
$ diff oracle-rdbms-server-11gR2-preinstall.spec oracle-rdbms-server-11gR2-preinstall.spec.orig
23a24
&gt; Requires:kernel-uek
</pre>
<p>I have rebuilt the RPM:</p>
<pre>
$ rpmbuild -ba oracle-rdbms-server-11gR2-preinstall.spec
warning: bogus date in %changelog: Thu Dec 24 2012 Gurudas Pai  [1.0-7.el6]
Executing(%prep): /bin/sh -e /var/tmp/rpm-tmp.VHKYEW
+ umask 022
+ cd /home/rpm/rpmbuild/BUILD
+ echo RPM_BUILD_ROOT=/home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
RPM_BUILD_ROOT=/home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
+ cd /home/rpm/rpmbuild/BUILD
+ rm -rf oracle-rdbms-server-11gR2-preinstall-1.0
+ /usr/bin/tar -xf -
+ /usr/bin/gzip -dc /home/rpm/rpmbuild/SOURCES/oracle-rdbms-server-11gR2-preinstall-1.0.tar.gz
+ STATUS=0
+ '[' 0 -ne 0 ']'
+ cd oracle-rdbms-server-11gR2-preinstall-1.0
+ /usr/bin/chmod -Rf a+rX,u+w,g-w,o-w .
+ exit 0
Executing(%build): /bin/sh -e /var/tmp/rpm-tmp.ES9W9u
+ umask 022
+ cd /home/rpm/rpmbuild/BUILD
+ cd oracle-rdbms-server-11gR2-preinstall-1.0
+ exit 0
Executing(%install): /bin/sh -e /var/tmp/rpm-tmp.ZupZF3
+ umask 022
+ cd /home/rpm/rpmbuild/BUILD
+ '[' /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64 '!=' / ']'
+ rm -rf /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
++ dirname /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
+ mkdir -p /home/rpm/rpmbuild/BUILDROOT
+ mkdir /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
+ cd oracle-rdbms-server-11gR2-preinstall-1.0
+ rm -rf /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
+ mkdir -p -m 755 /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/etc/sysconfig/oracle-rdbms-server-11gR2-preinstall
+ mkdir -p -m 755 /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/usr/bin
+ mkdir -p -m 755 /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/etc/rc.d/init.d
+ mkdir -p -m 700 /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/var/log/oracle-rdbms-server-11gR2-preinstall/results
+ install -m 744 oracle-rdbms-server-11gR2-preinstall-verify /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/etc/sysconfig/oracle-rdbms-server-11gR2-preinstall
+ install -m 744 oracle-rdbms-server-11gR2-preinstall-verify /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/usr/bin
+ install -m 644 oracle-rdbms-server-11gR2-preinstall.param /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/etc/sysconfig/oracle-rdbms-server-11gR2-preinstall
+ install -m 744 oracle-rdbms-server-11gR2-preinstall-firstboot /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/etc/rc.d/init.d
+ ln -f -s /etc/sysconfig/oracle-rdbms-server-11gR2-preinstall/oracle-rdbms-server-11gR2-preinstall-verify /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64/usr/bin/oracle-rdbms-server-11gR2-preinstall-verify
+ /usr/lib/rpm/find-debuginfo.sh --strict-build-id -m --run-dwz --dwz-low-mem-die-limit 10000000 --dwz-max-die-limit 110000000 /home/rpm/rpmbuild/BUILD/oracle-rdbms-server-11gR2-preinstall-1.0
/usr/lib/rpm/sepdebugcrcfix: Updated 0 CRC32s, 0 CRC32s did match.
+ /usr/lib/rpm/check-buildroot
+ /usr/lib/rpm/redhat/brp-compress
+ /usr/lib/rpm/redhat/brp-strip-static-archive /usr/bin/strip
+ /usr/lib/rpm/brp-python-bytecompile /usr/bin/python 1
+ /usr/lib/rpm/redhat/brp-python-hardlink
+ /usr/lib/rpm/redhat/brp-java-repack-jars
Processing files: oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
warning: File listed twice: /etc/sysconfig/oracle-rdbms-server-11gR2-preinstall/oracle-rdbms-server-11gR2-preinstall-verify
warning: File listed twice: /etc/sysconfig/oracle-rdbms-server-11gR2-preinstall/oracle-rdbms-server-11gR2-preinstall.param
Provides: config(oracle-rdbms-server-11gR2-preinstall) = 1.0-4.el7 oracle-rdbms-server-11gR2-preinstall = 1.0 oracle-rdbms-server-11gR2-preinstall = 1.0-4.el7 oracle-rdbms-server-11gR2-preinstall(x86-64) = 1.0-4.el7
Requires(interp): /bin/sh /bin/sh /bin/sh /bin/sh
Requires(rpmlib): rpmlib(CompressedFileNames) &lt;= 3.0.4-1 rpmlib(FileDigests) &lt;= 4.6.0-1 rpmlib(PayloadFilesHavePrefix) &lt;= 4.0-1
Requires(pre): /bin/sh /etc/redhat-release
Requires(post): /bin/sh
Requires(preun): /bin/sh
Requires(postun): /bin/sh
Requires: /bin/bash
Processing files: oracle-rdbms-server-11gR2-preinstall-debuginfo-1.0-4.el7.x86_64
Provides: oracle-rdbms-server-11gR2-preinstall-debuginfo = 1.0-4.el7 oracle-rdbms-server-11gR2-preinstall-debuginfo(x86-64) = 1.0-4.el7
Requires(rpmlib): rpmlib(FileDigests) &lt;= 4.6.0-1 rpmlib(PayloadFilesHavePrefix) &lt;= 4.0-1 rpmlib(CompressedFileNames) &lt;= 3.0.4-1
Checking for unpackaged file(s): /usr/lib/rpm/check-files /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
warning: Could not canonicalize hostname: rh7etsf0.localdomain
Wrote: /home/rpm/rpmbuild/SRPMS/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.src.rpm
Wrote: /home/rpm/rpmbuild/RPMS/x86_64/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64.rpm
Wrote: /home/rpm/rpmbuild/RPMS/x86_64/oracle-rdbms-server-11gR2-preinstall-debuginfo-1.0-4.el7.x86_64.rpm
Executing(%clean): /bin/sh -e /var/tmp/rpm-tmp.p05erl
+ umask 022
+ cd /home/rpm/rpmbuild/BUILD
+ cd oracle-rdbms-server-11gR2-preinstall-1.0
+ rm -rf /home/rpm/rpmbuild/BUILDROOT/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64
+ exit 0
</pre>
<p>Before installing the modified preinstallation RPM I have modified yum repositories configuration with root user:</p>
<pre>
# subscription-manager repos --enable=rhel-7-server-optional-rpms
Repository 'rhel-7-server-optional-rpms' is enabled for this system.
</pre>
<p>This is to avoid following error:</p>
<pre>
Error: Package: oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64 (/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64)
           Requires: compat-libstdc++-33
</pre>
<p>I have successfully installed the modified RPM:</p>
<pre>
# yum -y install ~rpm/rpmbuild/RPMS/x86_64/oracle-rdbms-server-11gR2-preinstall-1.0-4.el7.x86_64.rpm
</pre>
<p>Full yum installation log is <a href="https://pierreforstmanndotcom.wordpress.com/yumpr-log">here</a></p>
<h3>Clone Oracle Home 11.2.0.4</h3>
<p>For this step I have used Oracle Database Installation Guide for Linux 11.2 <a href="http://docs.oracle.com/cd/E11882_01/install.112/e47689/app_cloning.htm#LADBI1363">Cloning an Oracle Home</a>.</p>
<p>First I have created new Oracle home, Oracle base and Oracle Inventory directories:</p>
<pre>
# mkdir -p /u01/oracle/11204
# chown oracle:dba /u01/oracle/11204
# mkdir /u01/oracle/base
# chown oracle:dba /u01/oracle/base
#  mkdir /u01/oracle/Inventory
# chown oracle:dba /u01/oracle/Inventory
</pre>
<p>I have connected to HOL VM to create the Oracle Home zip file with oracle account:</p>
<pre>
oracle@hol:/u01/app/oracle/product/11.2.0$ pwd
/u01/app/oracle/product/11.2.0
oracle@hol:/u01/app/oracle/product/11.2.0$ zip -r /oradata/stage/ora11204.zip 
</pre>
<p>Back to RHEL VM with oracle account I have transfered this zip file to <b>/u01/oracle/11204</b>:</p>
<pre>
$ scp oracle@192.168.56.20:/oradata/stage/ora11204.zip .
oracle@192.168.56.20's password:
ora11204.zip                                                               100% 2567MB  65.8MB/s   00:39                                           
</pre>
<p>I have unzipped the Oracle Home zip file:</p>
<pre>
$ cd /u01/oracle/11204
$ unzip -d . ora11204.zip
</pre>
<p>I have run the clone command with a specific Oracle Inventory directory:</p>
<pre>
$ export ORACLE_HOME=/u01/oracle/11204/
$ $ORACLE_HOME/perl/bin/perl  $ORACLE_HOME/clone/bin/clone.pl ORACLE_BASE=/u01/oracle/base ORACLE_HOME=$ORACLE_HOME INVENTORY_LOCATION=/u01/oracle/Inventory/
./runInstaller -clone -waitForCompletion  "ORACLE_BASE=/u01/oracle/base" "ORACLE_HOME=/u01/oracle/11204/" "INVENTORY_LOCATION=/u01/oracle/Inventory/" -defaultHomeName -silent -noConfig -nowait
Starting Oracle Universal Installer...

Checking swap space: must be greater than 500 MB.   Actual 2047 MB    Passed
Preparing to launch Oracle Universal Installer from /tmp/OraInstall2016-04-09_11-02-26PM. Please wait ...Oracle Universal Installer, Version 11.2.0.4.0 Production
Copyright (C) 1999, 2013, Oracle. All rights reserved.

You can find the log of this install session at:
 /u01/oracle/Inventory/logs/cloneActions2016-04-09_11-02-26PM.log
.................................................................................................... 100% Done.



Installation in progress (Saturday, April 9, 2016 11:02:42 PM CEST)
..............................................................................                                                  78% Done.
Install successful

Linking in progress (Saturday, April 9, 2016 11:02:51 PM CEST)
Link successful

Setup in progress (Saturday, April 9, 2016 11:03:30 PM CEST)
Setup successful

End of install phases.(Saturday, April 9, 2016 11:03:57 PM CEST)
WARNING:A new inventory has been created in this session. However, it has not yet been registered as the central inventory of this system.
To register the new inventory please run the script '/u01/oracle/Inventory/orainstRoot.sh' with root privileges.
If you do not register the inventory, you may not be able to update or patch the products you installed.
The following configuration scripts need to be executed as the "root" user.
/u01/oracle/Inventory/orainstRoot.sh
/u01/oracle/11204//root.sh
To execute the configuration scripts:
    1. Open a terminal window
    2. Log in as "root"
    3. Run the scripts

The cloning of OraHome1 was successful.
Please check '/u01/oracle/Inventory/logs/cloneActions2016-04-09_11-02-26PM.log' for more details.
</pre>
<p>I have run the right scripts with root account:</p>
<pre>
# /u01/oracle/Inventory/orainstRoot.sh
# /u01/oracle/11204/root.sh
Check /u01/oracle/11204//install/root_rh7etsf0.localdomain_2016-04-09_23-04-34.log for the output of root script
# cat /u01/oracle/11204//install/root_rh7etsf0.localdomain_2016-04-09_23-04-34.log
Performing root user operation for Oracle 11g

The following environment variables are set as:
    ORACLE_OWNER= oracle
    ORACLE_HOME=  /u01/oracle/11204/
   Copying dbhome to /usr/local/bin ...
   Copying oraenv to /usr/local/bin ...
   Copying coraenv to /usr/local/bin ...


Creating /etc/oratab file...
Entries will be added to the /etc/oratab file as needed by
Database Configuration Assistant when a database is created
Finished running generic part of root script.
Now product-specific root actions will be performed.
Finished product-specific root actions.
Finished product-specific root actions.
#
</pre>
<p>I have checked the new Oracle Home:</p>
<pre>
$ export ORACLE_HOME=/u01/oracle/11204
$ PATH=$ORACLE_HOME/bin:$PATH
$ sqlplus -v

SQL*Plus: Release 11.2.0.4.0 Production
$ $ORACLE_HOME/OPatch/opatch lsinv
Oracle Interim Patch Installer version 11.2.0.3.12
Copyright (c) 2016, Oracle Corporation.  All rights reserved.


Oracle Home       : /u01/oracle/11204
Central Inventory : /u01/oracle/Inventory/
   from           : /u01/oracle/11204/oraInst.loc
OPatch version    : 11.2.0.3.12
OUI version       : 11.2.0.4.0
Log file location : /u01/oracle/11204/cfgtoollogs/opatch/opatch2016-04-11_21-57-46PM_1.log

Lsinventory Output file location : /u01/oracle/11204/cfgtoollogs/opatch/lsinv/lsinventory2016-04-11_21-57-46PM.txt

--------------------------------------------------------------------------------
Local Machine Information::
Hostname: rh7etsf0
ARU platform id: 226
ARU platform description:: Linux x86-64

Installed Top-level Products (1):

Oracle Database 11g                                                  11.2.0.4.0
There are 1 products installed in this Oracle Home.


Interim patches (1) :

Patch  21352635     : applied on Wed Nov 04 22:29:06 CET 2015
Unique Patch ID:  19227862
Patch description:  "Database Patch Set Update : 11.2.0.4.8 (21352635)"
   Created on 1 Sep 2015, 07:49:44 hrs
Sub-patch  20760982; "Database Patch Set Update : 11.2.0.4.7 (20760982)"
Sub-patch  20299013; "Database Patch Set Update : 11.2.0.4.6 (20299013)"
Sub-patch  19769489; "Database Patch Set Update : 11.2.0.4.5 (19769489)"
Sub-patch  19121551; "Database Patch Set Update : 11.2.0.4.4 (19121551)"
Sub-patch  18522509; "Database Patch Set Update : 11.2.0.4.3 (18522509)"
Sub-patch  18031668; "Database Patch Set Update : 11.2.0.4.2 (18031668)"
Sub-patch  17478514; "Database Patch Set Update : 11.2.0.4.1 (17478514)"
   Bugs fixed:
     17288409, 21051852, 18607546, 17205719, 17811429, 17816865, 20506699
     17922254, 17754782, 16934803, 13364795, 17311728, 17441661, 17284817
     16992075, 17446237, 14015842, 19972569, 21538558, 20925795, 17449815
     17375354, 19463897, 17982555, 17235750, 13866822, 18317531, 17478514
     18235390, 14338435, 20803583, 13944971, 20142975, 17811789, 16929165
     18704244, 20506706, 17546973, 20334344, 14054676, 17088068, 18264060
     17346091, 17343514, 21538567, 19680952, 18471685, 19211724, 13951456
     16315398, 18744139, 16850630, 19049453, 18673304, 17883081, 19915271
     18641419, 18262334, 17006183, 16065166, 18277454, 16833527, 10136473
     18051556, 17865671, 17852463, 18554871, 17853498, 18334586, 17588480
     17551709, 19827973, 17842825, 17344412, 18828868, 17025461, 11883252
     13609098, 17239687, 17602269, 19197175, 18316692, 17313525, 12611721
     19544839, 18964939, 17600719, 18191164, 19393542, 17571306, 18482502
     20777150, 19466309, 17040527, 17165204, 18098207, 16785708, 17174582
     16180763, 17465741, 16777840, 12982566, 19463893, 12816846, 16875449
     17237521, 19358317, 17811438, 17811447, 17945983, 18762750, 17184721
     16912439, 18061914, 17282229, 18331850, 18202441, 17082359, 18723434
     19554106, 14034426, 18339044, 19458377, 17752995, 20448824, 17891943
     17258090, 17767676, 16668584, 18384391, 17040764, 17381384, 15913355
     18356166, 14084247, 20506715, 13853126, 18203837, 14245531, 16043574
     17848897, 17877323, 17468141, 17786518, 17912217, 17037130, 18155762
     16956380, 17478145, 17394950, 18189036, 18641461, 18619917, 17027426
     21352646, 16268425, 19584068, 18436307, 17265217, 17634921, 13498382
     20004087, 17443671, 18000422, 20004021, 17571039, 21067387, 16344544
     18009564, 14354737, 18135678, 18614015, 20441797, 18362222, 17835048
     16472716, 17936109, 17050888, 17325413, 14010183, 18747196, 17761775
     16721594, 17082983, 20067212, 21179898, 17302277, 18084625, 15990359
     18203835, 17297939, 17811456, 16731148, 17215560, 13829543, 14133975
     17694209, 18091059, 17385178, 8322815, 17586955, 17201159, 17655634
     18331812, 19730508, 18868646, 17648596, 16220077, 16069901, 17348614
     17393915, 17274537, 17957017, 18096714, 17308789, 18436647, 14285317
     19289642, 14764829, 18328509, 17622427, 16943711, 14368995, 17346671
     18996843, 17783588, 16618694, 17672719, 18856999, 18783224, 17851160
     17546761, 17798953, 18273830, 19972566, 16384983, 17726838, 17360606
     13645875, 18199537, 16542886, 17889549, 14565184, 17071721, 20299015
     17610798, 20657441, 17397545, 18230522, 16360112, 19769489, 12905058
     18641451, 12747740, 18430495, 17042658, 17016369, 14602788, 19972568
     18508861, 19788842, 14657740, 17332800, 13837378, 19972564, 17186905
     18315328, 19699191, 17437634, 19006849, 19013183, 17296856, 18674024
     17232014, 16855292, 21051840, 14692762, 17762296, 17705023, 19121551
     19854503, 19309466, 18681862, 18554763, 20558005, 17390160, 18456514
     16306373, 13955826, 18139690, 17501491, 17299889, 17752121, 17889583
     18673325, 18293054, 17242746, 17951233, 17649265, 18094246, 19615136
     17011832, 16870214, 17477958, 18522509, 20631274, 16091637, 17323222
     16595641, 16524926, 18228645, 18282562, 17596908, 17156148, 18031668
     16494615, 17545847, 17614134, 13558557, 17341326, 17891946, 17716305
     16392068, 19271443, 18092127, 18440047, 17614227, 14106803, 16903536
     18973907, 18673342, 17389192, 16194160, 17006570, 17612828, 17721717
     17570240, 17390431, 16863422, 18325460, 19727057, 16422541, 19972570
     17267114, 18244962, 21538485, 18765602, 18203838, 16198143, 17246576
     14829250, 17835627, 18247991, 14458214, 21051862, 16692232, 17786278
     17227277, 16042673, 16314254, 16228604, 16837842, 17393683, 17787259
     20331945, 20074391, 15861775, 16399083, 18018515, 18260550, 21051858
     17036973, 16613964, 17080436, 16579084, 18384537, 18280813, 20296213
     16901385, 15979965, 18441944, 16450169, 9756271, 17892268, 11733603
     16285691, 17587063, 16538760, 18180390, 18193833, 21051833, 17238511
     17824637, 16571443, 18306996, 14852021, 18674047, 17853456, 12364061



--------------------------------------------------------------------------------

OPatch succeeded.
$ $ORACLE_HOME/OPatch/opatch lspatches
21352635;Database Patch Set Update : 11.2.0.4.8 (21352635)

OPatch succeeded.
$
</pre>
<p>Oracle 11.2.0.4 PSU 8 has now been successfully installed.</p>
<p>Last but not least to avoid any problem with <a href="https://docs.oracle.com/cd/E52668_01/E67200/html/section-t51_kcn_f5.html">default Red Hat <code>RemoveIPC</code> configuration</a> I have modified <b>/etc/systemd/logind.conf</b>:</p>
<pre>
# grep RemoveIPC /etc/systemd/logind.conf
RemoveIPC=no
</pre>
<h3>Conclusion</h3>
<p>You can have your cake (Oracle 11.2.0.4 with OTN license ...) and eat it too (... on Red Hat Linux 7 for at least for one year free subscription).</p>
